// This file was auto-generated by Fern from our API Definition.

package zep

import (
	json "encoding/json"
	fmt "fmt"
	internal "github.com/getzep/zep-go/v2/internal"
)

type AddThreadMessagesRequest struct {
	// Optional list of role types to ignore when adding messages to graph memory.
	// The message itself will still be added, retained and used as context for messages
	// that are added to a user's graph.
	IgnoreRoles []RoleType `json:"ignore_roles,omitempty" url:"-"`
	// A list of message objects, where each message contains a role and content.
	Messages []*Message `json:"messages,omitempty" url:"-"`
	// Optionally return memory context relevant to the most recent messages.
	ReturnContext *bool `json:"return_context,omitempty" url:"-"`
}

type CreateThreadRequest struct {
	// The unique identifier of the thread.
	ThreadID string `json:"thread_id" url:"-"`
	// The unique identifier of the user associated with the thread
	UserID string `json:"user_id" url:"-"`
}

type ThreadGetRequest struct {
	// Limit the number of results returned
	Limit *int `json:"-" url:"limit,omitempty"`
	// Cursor for pagination
	Cursor *int `json:"-" url:"cursor,omitempty"`
}

type ThreadGetUserContextRequest struct {
	// The number of most recent memory entries to retrieve.
	Lastn *int `json:"-" url:"lastn,omitempty"`
	// The minimum rating by which to filter relevant facts.
	MinRating *float64 `json:"-" url:"minRating,omitempty"`
}

type ThreadListAllRequest struct {
	// Page number for pagination, starting from 1
	PageNumber *int `json:"-" url:"page_number,omitempty"`
	// Number of threads to retrieve per page.
	PageSize *int `json:"-" url:"page_size,omitempty"`
	// Field to order the results by: created_at, updated_at, user_id, thread_id.
	OrderBy *string `json:"-" url:"order_by,omitempty"`
	// Order direction: true for ascending, false for descending.
	Asc *bool `json:"-" url:"asc,omitempty"`
}

type AddThreadMessagesResponse struct {
	Context *string `json:"context,omitempty" url:"context,omitempty"`

	extraProperties map[string]interface{}
	rawJSON         json.RawMessage
}

func (a *AddThreadMessagesResponse) GetContext() *string {
	if a == nil {
		return nil
	}
	return a.Context
}

func (a *AddThreadMessagesResponse) GetExtraProperties() map[string]interface{} {
	return a.extraProperties
}

func (a *AddThreadMessagesResponse) UnmarshalJSON(data []byte) error {
	type unmarshaler AddThreadMessagesResponse
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*a = AddThreadMessagesResponse(value)
	extraProperties, err := internal.ExtractExtraProperties(data, *a)
	if err != nil {
		return err
	}
	a.extraProperties = extraProperties
	a.rawJSON = json.RawMessage(data)
	return nil
}

func (a *AddThreadMessagesResponse) String() string {
	if len(a.rawJSON) > 0 {
		if value, err := internal.StringifyJSON(a.rawJSON); err == nil {
			return value
		}
	}
	if value, err := internal.StringifyJSON(a); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", a)
}

type Thread struct {
	CreatedAt   *string `json:"created_at,omitempty" url:"created_at,omitempty"`
	ProjectUUID *string `json:"project_uuid,omitempty" url:"project_uuid,omitempty"`
	ThreadID    *string `json:"thread_id,omitempty" url:"thread_id,omitempty"`
	UserID      *string `json:"user_id,omitempty" url:"user_id,omitempty"`
	UUID        *string `json:"uuid,omitempty" url:"uuid,omitempty"`

	extraProperties map[string]interface{}
	rawJSON         json.RawMessage
}

func (t *Thread) GetCreatedAt() *string {
	if t == nil {
		return nil
	}
	return t.CreatedAt
}

func (t *Thread) GetProjectUUID() *string {
	if t == nil {
		return nil
	}
	return t.ProjectUUID
}

func (t *Thread) GetThreadID() *string {
	if t == nil {
		return nil
	}
	return t.ThreadID
}

func (t *Thread) GetUserID() *string {
	if t == nil {
		return nil
	}
	return t.UserID
}

func (t *Thread) GetUUID() *string {
	if t == nil {
		return nil
	}
	return t.UUID
}

func (t *Thread) GetExtraProperties() map[string]interface{} {
	return t.extraProperties
}

func (t *Thread) UnmarshalJSON(data []byte) error {
	type unmarshaler Thread
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*t = Thread(value)
	extraProperties, err := internal.ExtractExtraProperties(data, *t)
	if err != nil {
		return err
	}
	t.extraProperties = extraProperties
	t.rawJSON = json.RawMessage(data)
	return nil
}

func (t *Thread) String() string {
	if len(t.rawJSON) > 0 {
		if value, err := internal.StringifyJSON(t.rawJSON); err == nil {
			return value
		}
	}
	if value, err := internal.StringifyJSON(t); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", t)
}

type ThreadContextResponse struct {
	// Memory context containing relevant facts and entities for the session. Can be put into the prompt directly.
	Context *string `json:"context,omitempty" url:"context,omitempty"`
	// A list of message objects, where each message contains a role and content. Only last_n messages will be returned
	Messages []*Message `json:"messages,omitempty" url:"messages,omitempty"`
	// Most relevant facts to the recent messages in the session.
	RelevantFacts []*Fact `json:"relevant_facts,omitempty" url:"relevant_facts,omitempty"`

	extraProperties map[string]interface{}
	rawJSON         json.RawMessage
}

func (t *ThreadContextResponse) GetContext() *string {
	if t == nil {
		return nil
	}
	return t.Context
}

func (t *ThreadContextResponse) GetMessages() []*Message {
	if t == nil {
		return nil
	}
	return t.Messages
}

func (t *ThreadContextResponse) GetRelevantFacts() []*Fact {
	if t == nil {
		return nil
	}
	return t.RelevantFacts
}

func (t *ThreadContextResponse) GetExtraProperties() map[string]interface{} {
	return t.extraProperties
}

func (t *ThreadContextResponse) UnmarshalJSON(data []byte) error {
	type unmarshaler ThreadContextResponse
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*t = ThreadContextResponse(value)
	extraProperties, err := internal.ExtractExtraProperties(data, *t)
	if err != nil {
		return err
	}
	t.extraProperties = extraProperties
	t.rawJSON = json.RawMessage(data)
	return nil
}

func (t *ThreadContextResponse) String() string {
	if len(t.rawJSON) > 0 {
		if value, err := internal.StringifyJSON(t.rawJSON); err == nil {
			return value
		}
	}
	if value, err := internal.StringifyJSON(t); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", t)
}

type ThreadListResponse struct {
	ResponseCount *int      `json:"response_count,omitempty" url:"response_count,omitempty"`
	Thread        []*Thread `json:"thread,omitempty" url:"thread,omitempty"`
	TotalCount    *int      `json:"total_count,omitempty" url:"total_count,omitempty"`

	extraProperties map[string]interface{}
	rawJSON         json.RawMessage
}

func (t *ThreadListResponse) GetResponseCount() *int {
	if t == nil {
		return nil
	}
	return t.ResponseCount
}

func (t *ThreadListResponse) GetThread() []*Thread {
	if t == nil {
		return nil
	}
	return t.Thread
}

func (t *ThreadListResponse) GetTotalCount() *int {
	if t == nil {
		return nil
	}
	return t.TotalCount
}

func (t *ThreadListResponse) GetExtraProperties() map[string]interface{} {
	return t.extraProperties
}

func (t *ThreadListResponse) UnmarshalJSON(data []byte) error {
	type unmarshaler ThreadListResponse
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*t = ThreadListResponse(value)
	extraProperties, err := internal.ExtractExtraProperties(data, *t)
	if err != nil {
		return err
	}
	t.extraProperties = extraProperties
	t.rawJSON = json.RawMessage(data)
	return nil
}

func (t *ThreadListResponse) String() string {
	if len(t.rawJSON) > 0 {
		if value, err := internal.StringifyJSON(t.rawJSON); err == nil {
			return value
		}
	}
	if value, err := internal.StringifyJSON(t); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", t)
}
